1.jvm
jvm 内存模型，GC算法 CMS算法具体的实现过程

OOM线上处理

zgc垃圾回收的过程

2.缓存、限流

缓存穿透：无效数据缓存数据库都没有，每次请求都会达到数据库
缓存击穿：缓存预热

穿透 雪崩含义以及预防措施 
参考：热点key

|      | 含义                                  | 预防措施                                                   |
| ---- |:----------------------------------- |:------------------------------------------------------ |
| 缓存穿透 | 一些无效数据请求，每次都达到数据库                   | 1.无效数据库过滤； 2.数据库不存在的值存默认值 3.bloomFilter？               |
| 缓存击穿 | 缓存和数据库都有数据，但是（**热点**）缓存失效，大量请求打到数据库 | 1.热点数据不过期 2. 如果必须过期，则在过期时增加一个互斥锁，只有一个线程去从数据库加载数据到redis |
| 缓存雪崩 | 大量数据在较短时间内都失效                       | 1.热点数据不做过期 2. 过期时间 + 随机数                               |

限流的原理，单机、集群限流 单机可以参照 rateLimiter
布隆过滤器 原理

3.项目
项目里提到的优惠券规则表达式，是怎么实现的，有没有使用过 alibaba 开源 QLExpress

4.redis
redis 持久化方式，以及具体的时机以及流程，同步or异步

过期key处理方式
为什么redis快  内存操作、单线程、io多路复用
数据库写完然后往redis同步时，删除数据失败
redis 数据结构实现原理 zset 跳表

内存模型？

5.mysql 

索引： 聚簇索引与非聚簇索引  索引结构
什么样的数据适合做索引
怎么避免回表

gap lock mvcc

mysql优化：

1. 使用覆盖索引，减少回表

2. 排序字段可以加到联合索引或者索引中，在索引查询时就进行排序

3. 读事务去掉，尽量把锁概率高的执行语句放到事务的最后

4. 尽量根据主键id去操作一行数据，可以先把主键查询出来然后根据主键操作

5. 分页使用 select * from t where id >上次的最大id limit 页长

6. 强制索引 select * from t force index(a) where a between 1 and 1000 and b between 50000 and 100000;  -- 第10节课

7. 字符串类型索引，使用前缀索索引，减少索引占用的空间   例如：alter table SUser add index index2(email(7));， 但是，使用钱难追索引的话就用不上覆盖索引的优势了，因为找到前缀必须回表判断是否相等。

8. hash索引、倒序索引，减少存储，只能使用做等值查询，不支持范围查询

9. 余额字段拆成多行，增加并发度。实际场景结合

10. alter table T engine=innodb;  
    
    整理表空间，show table from employees status like 't1'\G，计算公式： 碎片空间 = （总空间-每行长度*行数）/1024/1024MB

1、precommit具体做什么事情？
precommit执行了就是大家商量好了，要提交了。prepare状态下，大家可以提交也可以不提交。
2、开启事务后是长连接吗？
第一次课专门讲了，事务状态就在数据库连接上。连接断开了，事务没有提交就失败了。所以事务过程必须是长连接。数据库连接池就是持有了一堆长连接。
3、世界上没有任何办法能够保证分布式事务正确性，这是哲学问题。
看你怎么定义“正确性”。绝对的说法和言论，对于讨论实际问题没有意义，这也是哲学问题。
4、怎么感觉其实都是一样的，事务执行没提交，相当于prepare，还是没法解决commit失败的情况。
prepare后，数据库必须保证事务可以在收到commit或rollback以后，成功提交或回滚，除非它自己宕机了。此时事务管理器需要感知到这件事，从而：
1）如果还没有给各个子事务发送commit，那么就可以选择rollback；
2）如果已经给部分子事务发送了commit，并且收到了commit成功，那么就不能rollback；
3）当宕机的数据库重启以后，recover未做完的事务，继续给它发送commit或rollback。

6.linux 
日志根据字段切割，统计其中一个字段的值出现的次数>10;  参考:  awk  

```shell
grep 'jvm.code-cache.percent' all.log | awk -F 'value=' '{print $2}' | awk -F ',' '{print"jvm.code-cache.percent="$1}'
```

7.springcloud

需要的能力：

服务注册发现、负载均衡、熔断限流、配置中心、网关路由、链路追踪

8.RocketMQ

顺序消费原理，

消息存储方式，集群架构 痛痛痛。。。

事务消息

系统的学一遍！！！🤑

9.jdk17有什么新特性 

10.es和clickhouse的区别 

11.spring 

分库分表实现，业界主流实现？shardingJDBC？ ss

datasource 传递？

datasource、connection 是怎么传递的

12.skywalking zipkin

算法：

[22. 括号生成](https://leetcode-cn.com/problems/generate-parentheses/)

[geek-耗子叔面试攻略]([92 | 程序员面试攻略：面试前的准备-极客时间](https://time.geekbang.org/column/article/13067))

非技术，但是会影响你的level

1 你能讲一个你基于自我驱动发现然后解决的问题吗
2 你有没有通过简单方案解决复杂问题的经验
3 说说你解决过的一个最复杂的问题
4 说说你的优点，并举例佐证
5 说说你的缺点，谈谈如何改进
6 说说你的leader对你有哪些影响
7 说说你最近的团队目前存在哪些问题
8 你有没有造成过线上事故，你是如何解决和反思

1 变相的让你证明你不需要别人驱动，能自我管理
2 够不够聪明，解决没解决过复杂问题
3 貌似上一问你回答的不好，不然没这一问
4 同上，那我就直白的让你证明你自己
5 可以了，你吹的够多了，你是真的认为自己牛逼，还是心里其实有数儿？
6 从你对leader的评价，看看你丫以后怎么说我
7 同上，leader到团队
8 没有搞出过事故，说明你的工作不够核心，搞出过、并且摆平过就淡定了，我们就要这样的人

3 说说你解决过的一个最复杂的问题

我解决过很多复杂的问题，有线上的，有jvm的，有设计层面的，有网络和磁盘方面的，他们都在不同的方向，各有各的复杂度，要是说最复杂的，可能以下三个都非常在不同的角度具有代表性：
1、线上的核心交易偶尔莫名其妙超时5s的问题；
2、准生产环境大规模网关JVM经常性宕机问题；
3、压力测试环境几百台服务集群TPS抖动问题。
都是一些综合性的疑难杂症，涉及到从应用、到JVM、到操作系统和网络磁盘，甚至测试工具等相关问题。我们可以就其中的某一个进行深入沟通。您看讲哪一个合适？
